# fly.toml app configuration file generated for doomanddastardlies on 2026-02-13T20:19:38Z
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'doomanddastardlies'
primary_region = 'ams'

[build]

[deploy]
  release_command = "npm run deploy-commands"

[env]
  MAX_TIMER_HOURS = 2


# --- HTTP mode configuration (uncomment when using INTERACTIONS_MODE=http) ---
# Set INTERACTIONS_MODE = "http" above, then uncomment the [http_service] block.
# You will also need to set these secrets:
#   fly secrets set DISCORD_PUBLIC_KEY=<your-public-key-hex>
#
 [http_service]
   internal_port = 3000
   force_https = true
   auto_stop_machines = "stop"
   auto_start_machines = true
   min_machines_running = 1

   [[http_service.checks]]
     grace_period = "10s"
     interval = "30s"
     method = "GET"
     timeout = "5s"
     path = "/health"

[[vm]]
  memory = '256mb'
  cpu_kind = 'shared'
  cpus = 1
  memory_mb = 256
